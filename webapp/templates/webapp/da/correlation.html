{% load widget_tweaks %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/theme.css' %}"/>
{% endblock %}


{% block content %}

<form class="correlation-form" method="post">
    {% csrf_token %}
    <div class="modal-header">
        <h3 class="modal-title">Correlation Analysis</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">

        <div class="{% if form.non_field_errors %}invalid{% endif %} mb-2">
            {% for error in form.non_field_errors %}
            {{ error }}
            {% endfor %}
        </div>

        {% for field in form.visible_fields %}
        <div class="form-group{% if field.errors %} invalid{% endif %}">
            <label>{{ field.label }}</label>
            {{ field }}
            {% for error in field.errors %}
            <div class="alert alert-danger">{{ error|escape }}</div>
            {% endfor %}
        </div>
        {% endfor %}

    </div>

    <div class="modal-footer">
        <button type="submit" class="submit-btn btn btn-primary">Run Correlation</button>
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
    </div>

</form>

<div id="correlationModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Correlation Graphs</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="correlation">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/popper.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<!-- You can alternatively load the minified version -->
<script src="{% static 'js/jquery.bootstrap.modal.forms.min.js' %}"></script>
<script src="{% static 'webapp/js/main.js' %}"></script>

{% endblock %}



